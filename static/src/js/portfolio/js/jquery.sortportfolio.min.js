(function(a){a.fn.extend({filterPortfolio:function(p){var b={initFilter:"#all",itemUL:"#itemUL",filterButtons:[{link:"#all",dom:"li"},{link:"#book",dom:"li.book"},{link:"#web",dom:"li.web"},{link:"#card",dom:"li.card"}],orderbyButtons:[{link:"#visit",dom:"span.visit",isNumber:true},{link:"#name",dom:"strong"},{link:"#date",dom:"span.date",isNumber:true}],orderReverse:false,sortOption:{duration:800,easing:"easeInOutQuad",adjustHeight:"auto",easeIn:"flipInX",easeOut:"flipOutX"},};if(p){a.extend(b,p)}var m=this;m.data("settings",b);var e=a(b.itemUL);var c=e.clone();var h=c.find("li");var n=b.filterButtons.length;var d;for(var k=0;k<n;k++){var l=a(b.filterButtons[k].link);l.data("dom",b.filterButtons[k].dom);if(l.parent().hasClass("current")){d=l.parent()}l.on("click",function(q){if(a(this).parent()[0]!=d[0]){if(o){var r=o.find("a").data("dom");var j=o.find("a").data("isNumber");h=c.find(a(this).data("dom"));var i=h.sorted({reversed:m.data("reversed"),by:function(s){if(j){return parseFloat(a(s).find(r).data("num"))}else{return a(s).find(r).text().toLowerCase()}}});e.quicksand(i,b.sortOption)}else{e.quicksand(c.find(a(this).data("dom")),b.sortOption);h=c.find(a(this).data("dom"))}if(d){d.removeClass("current")}d=a(this).parent();d.addClass("current")}})}if(b.initFilter){a(b.initFilter).trigger("click")}var g=b.orderbyButtons.length;var o;m.data("reversed",false);for(var f=0;f<g;f++){var l=a(b.orderbyButtons[f].link);if(l.parent().hasClass("current")){o=l.parent()}l.data("dom",b.orderbyButtons[f].dom);l.data("isNumber",b.orderbyButtons[f].isNumber);l.on("click",function(q){var r=a(this).data("dom");var j=a(this).data("isNumber");if(b.orderReverse){m.data("reversed")?m.data("reversed",false):m.data("reversed",true)}else{m.data("reversed",false)}var i=h.sorted({reversed:m.data("reversed"),by:function(s){if(j){return parseFloat(a(s).find(r).data("num"))}else{return a(s).find(r).text().toLowerCase()}}});if(!b.orderReverse&&o){if(a(this).parent()[0]!=o[0]){e.quicksand(i,b.sortOption)}}else{e.quicksand(i,b.sortOption)}if(o){o.removeClass("current")}o=a(this).parent();o.addClass("current")})}m.updateAnimation=function(j,i){if(!j){j="fadeIn"}if(!i){i="fadeOut"}b.sortOption={easeIn:j,easeOut:i}};return this}});a.fn.sorted=function(b){var c={reversed:false,by:function(d){return d.text()}};a.extend(c,b);$data=a(this);arr=$data.get();arr.sort(function(f,d){var g=c.by(a(f));var e=c.by(a(d));if(c.reversed){return(g<=e)?1:(g>e)?-1:0}else{return(g<=e)?-1:(g>e)?1:0}});return a(arr)}})(jQuery);
